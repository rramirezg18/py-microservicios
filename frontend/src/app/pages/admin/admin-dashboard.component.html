<ng-container *ngIf="isAdmin">
  <!-- HERO -->
  <header class="admin-hero">
    <div class="hero-content">
      <div class="hero-titles">
        <h1>Panel de Administración</h1>
        <p>Elige una sección</p>
      </div>

      <div #logoutWrap class="logout-wrap">
        <button class="hero-logout" (click)="toggleLogout($event)">
          <mat-icon>logout</mat-icon> Logout
        </button>
        <div class="logout-menu" [class.open]="logoutOpen">
          <button class="menu-item" (click)="logout()">Cerrar sesión</button>
        </div>
      </div>
    </div>
    <div class="hero-divider"></div>
  </header>

  <!-- WRAP -->
  <div class="admin-wrap">

    <!-- KPIs -->
    <section class="kpis">
      <div class="kpi">
        <div class="kpi-ico"><mat-icon>stadium</mat-icon></div>
        <div class="kpi-body">
          <span class="kpi-label">Torneos</span>
          <span class="kpi-value">—</span>
        </div>
      </div>
      <div class="kpi">
        <div class="kpi-ico"><mat-icon>today</mat-icon></div>
        <div class="kpi-body">
          <span class="kpi-label">Partidos hoy</span>
          <span class="kpi-value">—</span>
        </div>
      </div>
      <div class="kpi">
        <div class="kpi-ico"><mat-icon>groups</mat-icon></div>
        <div class="kpi-body">
          <span class="kpi-label">Equipos</span>
          <span class="kpi-value">—</span>
        </div>
      </div>
      <div class="kpi">
        <div class="kpi-ico"><mat-icon>person</mat-icon></div>
        <div class="kpi-body">
          <span class="kpi-label">Jugadores</span>
          <span class="kpi-value">—</span>
        </div>
      </div>
    </section>

    <!-- Acciones rápidas -->
    <section class="quick-actions">
      <a class="qa pill" routerLink="/tournaments"><mat-icon>add_circle</mat-icon> Crear torneo</a>
      <a class="qa pill" [routerLink]="['/control', (matchId || 1)]"><mat-icon>sports</mat-icon> Nuevo partido</a>
      <a class="qa pill" routerLink="/players/create"><mat-icon>person_add</mat-icon> Nuevo jugador</a>
    </section>

    <!-- GRID PRINCIPAL -->
    <section class="dashboard-grid">

      <!-- Tarjetas de navegación (tus cards, con estilo nuevo) -->
      <div class="cards">
        <a class="card" [routerLink]="['/score', (matchId || 1)]">
          <div class="icon"><mat-icon>query_stats</mat-icon></div>
          <div class="meta">
            <h3 class="title">Scoreboard</h3>
            <p class="desc">Ver marcador en vivo</p>
          </div>
          <div class="chev">›</div>
        </a>

        <a class="card" [routerLink]="['/control', matchId]">
          <div class="icon"><mat-icon>tune</mat-icon></div>
          <div class="meta">
            <h3 class="title">Control</h3>
            <p class="desc">Panel del operador</p>
          </div>
          <div class="chev">›</div>
        </a>

        <a class="card" routerLink="/players">
          <div class="icon"><mat-icon>group</mat-icon></div>
          <div class="meta">
            <h3 class="title">Players</h3>
            <p class="desc">Gestiona el plantel</p>
          </div>
          <div class="chev">›</div>
        </a>

        <a class="card" routerLink="/teams">
          <div class="icon"><mat-icon>sports_basketball</mat-icon></div>
          <div class="meta">
            <h3 class="title">Teams</h3>
            <p class="desc">Crea y edita equipos</p>
          </div>
          <div class="chev">›</div>
        </a>

        <a class="card" routerLink="/tournaments">
          <div class="icon"><mat-icon>emoji_events</mat-icon></div>
          <div class="meta">
            <h3 class="title">Tournaments</h3>
            <p class="desc">Programa y administra partidos</p>
          </div>
          <div class="chev">›</div>
        </a>

        <a class="card" routerLink="/reports">
          <div class="icon"><mat-icon>picture_as_pdf</mat-icon></div>
          <div class="meta">
            <h3 class="title">Reports</h3>
            <p class="desc">PDFs de equipos, jugadores y partidos</p>
          </div>
          <div class="chev">›</div>
        </a>
      </div>

      <!-- Agenda compacta -->
      <div class="panel agenda">
        <header>Agenda</header>
        <ul class="agenda-list">
          <li><span class="date">Hoy 19:00</span><span class="txt">Equipo A vs Equipo B</span><a [routerLink]="['/control', (matchId || 1)]">Ver</a></li>
          <li><span class="date">Mañana 18:30</span><span class="txt">Equipo C vs Equipo D</span><a routerLink="/tournaments">Detalle</a></li>
          <li><span class="date">Vie 20:00</span><span class="txt">Semifinal</span><a routerLink="/tournaments">Detalle</a></li>
        </ul>
      </div>

      <!-- Gráfico placeholder (SVG, cero dependencias) -->
      <div class="panel chart">
        <header>Actividad</header>
        <svg viewBox="0 0 300 100" preserveAspectRatio="none" class="spark">
          <polyline fill="none" stroke="url(#g)" stroke-width="3"
            points="0,70 30,65 60,72 90,50 120,55 150,38 180,45 210,30 240,35 270,20 300,25"/>
          <defs>
            <linearGradient id="g" x1="0" x2="1">
              <stop offset="0%" stop-color="#6366f1"/><stop offset="100%" stop-color="#8b5cf6"/>
            </linearGradient>
          </defs>
        </svg>
        <p class="chart-note">Tendencia semanal (placeholder)</p>
      </div>

    </section>
  </div>
</ng-container>
